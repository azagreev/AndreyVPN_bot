# AndreyVPN_bot

## What This Is

Telegram-бот (aiogram 3) для управления VPN-сервером AmneziaWG на базе Ubuntu 22.04. Бот позволяет друзьям администратора удобно получать конфигурационные файлы для VPN, а администратору — контролировать доступ, одобрять запросы и отслеживать использование трафика.

## Core Value

Безопасное и удобное управление профилями AmneziaWG через Telegram с обязательным подтверждением доступа администратором.

## Requirements

### Validated

(None yet — ship to validate)

### Active

- [ ] Автоматическая установка AmneziaWG в Docker-контейнере через скрипт.
- [ ] Защита от ботов при первом запуске (CAPTCHA/Challenge).
- [ ] Система одобрения новых пользователей администратором (кнопки Принять/Отклонить).
- [ ] Генерация профилей AmneziaWG с обязательным аппрувом каждой выдачи администратором.
- [ ] Выдача профиля в виде QR-кода и файла .conf.
- [ ] Мониторинг потребления трафика каждым пользователем за месяц.
- [ ] Отображение статуса сервера (работает/не работает).
- [ ] Хранение данных в базе SQLite.

### Out of Scope

- [ ] Поддержка нескольких серверов — [на данном этапе требуется работа только с одним сервером]
- [ ] Поддержка других VPN-протоколов (OpenVPN и т.д.) — [фокус на AmneziaWG]
- [ ] Публичная регистрация без одобрения админа — [риск перегрузки сервера и спама]

## Context

- Бот создается для личного использования и группы друзей.
- Используется AmneziaWG (модифицированный WireGuard) для лучшего обхода блокировок.
- Серверная среда: Ubuntu 22.04.
- **Локализация**: Все интерфейсы, кнопки, логи, комментарии в коде и документация должны быть только на русском языке.

## Constraints

- **Технологии**: Python (aiogram 3), SQLite, Docker — [выбор пользователя]
- **ОС**: Ubuntu 22.04 — [ОС сервера пользователя]
- **Безопасность**: Обязательный аппрув админом всех действий — [требование пользователя]
- **Язык**: Строго русский (никакого английского в пользовательской и технической части).

## Key Decisions

| Decision | Rationale | Outcome |
|----------|-----------|---------|
| Docker для VPN | Упрощение развертывания и изоляция сервиса | — Pending |
| SQLite | Легковесная БД, достаточная для небольшого количества пользователей | — Pending |
| aiogram 3 | Современный асинхронный фреймворк для Telegram-ботов | — Pending |

---
*Last updated: 2026-02-24 after initialization*
