# v1 Requirements — AndreyVPN_bot

## 1. Authentication & Access (AUTH)

- [ ] **AUTH-01**: Пользователь должен пройти проверку на бота (CAPTCHA) при первом запуске.
- [ ] **AUTH-02**: Администратор должен одобрять регистрацию новых пользователей через интерактивные кнопки.
- [ ] **AUTH-03**: Доступ к функционалу бота разрешен только одобренным пользователям (Whitelist).

## 2. VPN Management (VPN)

- [ ] **VPN-01**: Бот должен генерировать уникальные ключи и профили AmneziaWG для пользователей.
- [ ] **VPN-02**: Администратор должен одобрять каждый запрос на выдачу нового VPN-конфига.
- [ ] **VPN-03**: Бот должен выдавать профиль в виде QR-кода (изображение) и файла .conf.

## 3. Monitoring & Status (MONITOR)

- [ ] **MONITOR-01**: Бот должен отслеживать и отображать потребление трафика каждым пользователем за текущий месяц.
- [ ] **MONITOR-02**: Бот должен показывать текущий статус VPN-сервера (Работает/Остановлен).
- [ ] **MONITOR-03**: Бот должен автоматически сбрасывать счетчики трафика 1-го числа каждого месяца.

## 4. Data Persistence (DATA)

- [ ] **DATA-01**: Бот должен использовать базу данных SQLite для хранения состояния пользователей, одобрений и статистики.

---

## v2 / Deferred

- [ ] **INST-01**: Автоматическая установка AmneziaWG в Docker через скрипт (отложено по просьбе пользователя).
- [ ] **MGMT-01**: Возможность удаления пользователей или отзыва конфигов через интерфейс бота.

## Out of Scope

- **Public Registration**: Свободная регистрация без участия админа — [риск безопасности и перегрузки].
- **Multi-server support**: Работа с несколькими VPN-узлами — [фокус на одном сервере].

---
*Last updated: 2026-02-24 after defining v1 requirements*
